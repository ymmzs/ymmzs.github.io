<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <title>å‘˜å·¥æ‰“å¡å¯è§†åŒ–</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    html, body, #map { height: 100%; margin: 0; padding: 0; }
    .amap-marker-label {
      background: rgba(255,255,255,0.9);
      border: 1px solid #ddd;
      padding: 2px 6px;
      border-radius: 4px;
      white-space: nowrap;
      font-size: 12px;
    }
  </style>
  <script src="https://webapi.amap.com/maps?v=2.0&key=b479b036079bc0579bc23d62cdfdfb6b"></script>
</head>
<body>
  <div id="map"></div>
  <script>
    var map = new AMap.Map('map', {
        zoom: 5,
        center: [111.236024, 24.559199],
        viewMode: '2D'
    });

    var points = [{"name": "é¾šæ¥", "address": "å¹¿ä¸œçœç æµ·å¸‚é‡‘æ¹¾åŒºåˆ›ä¸šä¸­è·¯2å·", "province": "å¹¿ä¸œçœ", "position": [113.281266, 22.08831], "content": "<b>é¾šæ¥</b><br/>å¹¿ä¸œçœ å¹¿ä¸œçœç æµ·å¸‚é‡‘æ¹¾åŒºåˆ›ä¸šä¸­è·¯2å·"}, {"name": "é¾™è¿œå¿—", "address": "çœ‰å±±å¸‚ä¸œå¡åŒºä¸œå¡åŒºé˜³å…‰æœªæ¥åŸ(èœ€å±±è·¯å—)", "province": "å››å·çœ", "position": [103.833874, 30.068128], "content": "<b>é¾™è¿œå¿—</b><br/>å››å·çœ çœ‰å±±å¸‚ä¸œå¡åŒºä¸œå¡åŒºé˜³å…‰æœªæ¥åŸ(èœ€å±±è·¯å—)"}, {"name": "é¾™å¼€å‰", "address": "å¹¿ä¸œçœä¸œèå¸‚è¶…ä¸œè·¯82å·", "province": "å¹¿ä¸œçœ", "position": [113.914478, 23.040178], "content": "<b>é¾™å¼€å‰</b><br/>å¹¿ä¸œçœ å¹¿ä¸œçœä¸œèå¸‚è¶…ä¸œè·¯82å·"}, {"name": "é½å®—", "address": "å¹¿ä¸œçœä¸œèå¸‚è¶…ä¸œè·¯82å·", "province": "å¹¿ä¸œçœ", "position": [113.914478, 23.040178], "content": "<b>é½å®—</b><br/>å¹¿ä¸œçœ å¹¿ä¸œçœä¸œèå¸‚è¶…ä¸œè·¯82å·"}];

    var infoWin = new AMap.InfoWindow({ offset: new AMap.Pixel(0, -30) });

    var markers = points.map(function(p) {
        // è‡ªå®šä¹‰å›¾æ ‡
        var icon = new AMap.Icon({
          size: new AMap.Size(25, 34), // å›¾æ ‡å¤§å°
          image: 'https://webapi.amap.com/theme/v1.3/markers/n/mark_b.png', // çº¢è‰²ä½ç½®å›¾æ ‡
          imageSize: new AMap.Size(25, 34)
        });

        var marker = new AMap.Marker({
          position: p.position,
          title: p.name,
          icon: icon
        });

        // ç‚¹å‡»å›¾æ ‡æ˜¾ç¤º InfoWindow
        marker.on('click', function() {
          infoWin.setContent(
            '<div style="font-size:14px;">' +
            '<b>ğŸ‘¤ å§“åï¼š</b>' + p.name + '<br/>' +
            '<b>ğŸ“ åœ°å€ï¼š</b>' + (p.province ? p.province + ' ' : '') + p.address +
            '</div>'
          );
          infoWin.open(map, p.position);
        });

        return marker;
    });

    // èšåˆæ˜¾ç¤º
    var cluster = new AMap.MarkerCluster(map, markers, {
        gridSize: 80
    });

    // è‡ªåŠ¨ç¼©æ”¾è§†é‡åˆ°æ‰€æœ‰ç‚¹
    map.setFitView(markers, true, [50, 50, 50, 50]);
  </script>
</body>
</html>